<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <title>Beep Test</title>
  <link rel="stylesheet" href="beeptest.css">
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f172a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="BeepTest">
<link rel="apple-touch-icon" href="icons/icon-192.png">

</head>
<body>
<div class="main-wrapper">

<h1>Beep Test</h1>

<div id="levelDisplay"></div>

<div id="progressContainer">
  <div id="progressBar"></div>
</div>

<div class="controls">
  <button onclick="startTest()">Start</button>
  <button onclick="pauseTest()">Pause</button>
  <button onclick="resetTest()">Nullstill</button>
  <button id="addParticipantBtn">Legg til deltaker</button>

</div>


<h2>Deltakere</h2>

<div id="participants">
  <button data-name="Ask">Ask</button>
  <button data-name="Brage">Brage</button>
  <button data-name="Gabriel">Gabriel</button>
  <button data-name="Lars">Lars</button>
  <button data-name="Liam">Liam</button>
  <button data-name="Lukas">Lukas</button>
  <button data-name="Martin">Martin</button>
  <button data-name="Nicolai">Nicolai</button>
  <button data-name="Noah">Noah</button>
  <button data-name="Nytveit">Nytveit</button>
  <button data-name="Oliver">Oliver</button>
  <button data-name="Snorre">Snorre</button>
  <button data-name="Sondre">Sondre</button>
  <button data-name="Sverre">Sverre</button>
  <button data-name="Thage">Thage</button>
  <button data-name="Theodor">Theodor</button>
  <button data-name="Torvald">Torvald</button>
  <button data-name="William">William</button>
</div>

<button id="sendResultsBtn">
  Send resultater til Firebase
</button>
<button id="viewResultsBtn">Vis resultat</button>


<div id="resetModal" class="modal hidden">
  <div class="modal-content">
    <p id="resetText"></p>

    <!-- Rediger resultat -->
    <div id="editSection" class="hidden">
      <input
        type="text"
        id="editResult"
        placeholder="f.eks. 6.4"
        inputmode="decimal"
      />
    </div>

    <div class="modal-buttons">
  <button id="confirmReset">Resett</button>
  <button id="editBtn">Rediger</button>
  <button id="saveEdit" class="hidden">Lagre</button>
  <button id="removeParticipantBtn">Fjern deltaker</button>
  <button id="cancelReset">Avbryt</button>
</div>
  </div>
</div>

<script type="module">
  import { initializeApp } from
    "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore } from
    "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAKZMu2HZPmmoZ1fFT7DNA9Q6ystbKEPgE",
  authDomain: "samnanger-g14-f10a1.firebaseapp.com",
  projectId: "samnanger-g14-f10a1",
  storageBucket: "samnanger-g14-f10a1.firebasestorage.app",
  messagingSenderId: "926427862844",
  appId: "1:926427862844:web:5e6d11bb689c802d01b039",
  measurementId: "G-EJL3YYC63R"
};

  const app = initializeApp(firebaseConfig);
  window.db = getFirestore(app);
</script>


<!-- ðŸ”½ DENNE LINJEN ER KRITISK -->
<script type="module" src="beepTest.js" defer></script>

<div id="resultsModal" class="modal hidden">
  <div class="modal-content">
    <h3>Lagrede tester</h3>

    <div id="dateList"></div>

    <hr />

    <div id="resultsList"></div>

    <div class="modal-buttons">
  <button id="printResultsBtn">Skriv ut</button>
  <button id="shareResultsBtn">Send / Del</button>
  <button id="closeResults">Lukk</button>
</div>

  </div>
</div>

</div>

<div id="statusMessage" class="hidden"></div>

<div id="addParticipantModal" class="modal hidden">
  <div class="modal-content">
    <h3>Legg til deltaker</h3>

    <input
      type="text"
      id="newParticipantName"
      placeholder="Navn"
      autocomplete="off"
    />

    <div class="modal-buttons">
      <button id="confirmAddParticipant">Legg til</button>
      <button id="cancelAddParticipant">Avbryt</button>
    </div>
  </div>
</div>

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
  }
</script>

</body>
</html>
