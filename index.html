<head>
  <meta charset="UTF-8">
  <title>Beep Test</title>

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BeepTest">

  <!-- IKONER (Ã¸verst, fÃ¸r alt annet) -->
  <link rel="apple-touch-icon" sizes="180x180" href="icon-180.png">
  <link rel="icon" href="icon-192.png">
  <link rel="icon" href="icon-512.png">
  

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0f172a">

  <!-- CSS -->
  <link rel="stylesheet" href="beepTest.css">
</head>

<body>
<div class="main-wrapper">

<h1>Beep Test</h1>

<div id="levelDisplay"></div>

<div id="progressContainer">
  <div id="progressBar"></div>
</div>

<div class="controls">
  <button onclick="startTest()">Start</button>
  <button onclick="pauseTest()" class="danger">Avbryt</button>
  <button onclick="resetTest()">Nullstill</button>
  <button id="addParticipantBtn">Legg til deltaker</button>

</div>
<button id="manualResultBtn">
  Legg inn resultat manuelt
</button>



<h2>Deltakere</h2>

<div id="participants">
  <button data-name="Ask">Ask</button>
  <button data-name="Brage">Brage</button>
  <button data-name="Gabriel">Gabriel</button>
  <button data-name="Lars">Lars</button>
  <button data-name="Liam">Liam</button>
  <button data-name="Lukas">Lukas</button>
  <button data-name="Martin">Martin</button>
  <button data-name="Nicolai">Nicolai</button>
  <button data-name="Noah">Noah</button>
  <button data-name="Nytveit">Nytveit</button>
  <button data-name="Oliver">Oliver</button>
  <button data-name="Snorre">Snorre</button>
  <button data-name="Sondre">Sondre</button>
  <button data-name="Sverre">Sverre</button>
  <button data-name="Thage">Thage</button>
  <button data-name="Theodor">Theodor</button>
  <button data-name="Torvald">Torvald</button>
  <button data-name="William">William</button>
</div>

<button id="sendResultsBtn">
  Send inn resultater
</button>
<button id="viewResultsBtn">Hent resultat</button>


<div id="resetModal" class="modal hidden">
  <div class="modal-content">
    <p id="resetText"></p>

    <!-- Rediger resultat -->
    <div id="editSection" class="hidden">
      <input
        type="text"
        id="editResult"
        placeholder="f.eks. 6.4"
        inputmode="decimal"
      />
    </div>

    <div class="modal-buttons">
  <button id="confirmReset">Resett</button>
  <button id="editBtn">Rediger</button>
  <button id="saveEdit" class="hidden">Lagre</button>
  <button id="removeParticipantBtn">Fjern deltaker</button>
  <button id="cancelReset">Avbryt</button>
</div>
  </div>
</div>

<!-- ðŸ”½ DENNE LINJEN ER KRITISK -->
<script type="module" src="beepTest.js" defer></script>

<div id="manualResultModal" class="modal hidden">
  <div class="modal-content">
    <h3>Manuelt resultat</h3>

    <input
      type="text"
      id="manualName"
      placeholder="Navn"
    />

    <input
      type="date"
      id="manualDate"
    />

    <input
      type="text"
      id="manualLevel"
      placeholder="NivÃ¥ (f.eks. 6.4)"
      inputmode="decimal"
    />

    <div class="modal-buttons">
      <button id="saveManualResult">Lagre</button>
      <button id="cancelManualResult">Avbryt</button>
    </div>
  </div>
</div>

<div id="resultsModal" class="modal hidden">
  <div class="modal-content">
    <h3>Lagrede tester</h3>

    <div id="dateList"></div>

    <hr />

    <div id="resultsList"></div>

    <div class="modal-buttons">
  <button id="printResultsBtn">Skriv ut</button>
  <button id="shareResultsBtn">Send / Del</button>
  <button id="closeResults">Lukk</button>
</div>

  </div>
</div>

</div>

<div id="statusMessage" class="hidden"></div>

<div id="addParticipantModal" class="modal hidden">
  <div class="modal-content">
    <h3>Legg til deltaker</h3>

    <input
      type="text"
      id="newParticipantName"
      placeholder="Navn"
      autocomplete="off"
    />

    <div class="modal-buttons">
      <button id="confirmAddParticipant">Legg til</button>
      <button id="cancelAddParticipant">Avbryt</button>
    </div>
  </div>
</div>

<!--
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
  }
</script>
-->

</body>
</html>
